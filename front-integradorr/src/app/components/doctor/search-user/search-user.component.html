<div class="container mt-5">
    <h2 class="text-center mb-4">Historial Médico del Paciente</h2>
  
    <!-- Barra de búsqueda -->
    <div class="input-group mb-3">
      <input 
        type="text" 
        class="form-control" 
        placeholder="Buscar por nombre, DNI o código de paciente"
        [(ngModel)]="searchQuery"
        (keyup)="onSearch()"
      />
      <button class="btn btn-primary" (click)="onSearch()">Buscar</button>
    </div>
  
    <!-- Mensaje de error -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>
  
    <!-- Resultados del desplegable -->
    <div class="position-relative">
      <ul 
        class="dropdown-menu show w-100" 
        *ngIf="usersForFilter.length > 0"
        style="max-height: 300px; overflow-y: auto;"
      >
        <li 
          *ngFor="let user of usersForFilter" 
          class="dropdown-item"
          (click)="onSelectUser(user)"
        >
          <div>{{ user.name }} - {{ user.dni }}</div>
        </li>
      </ul>
    </div>
  </div>
  
    <!-- Filtros
    <div class="row mb-3">
      <div class="col-md-4">
        <label for="filterDate" class="form-label">Fecha</label>
        <input 
          type="date" 
          id="filterDate" 
          class="form-control"
          [(ngModel)]="filterDate"
          (change)="onFilterChange()"
        />
      </div>
      <div class="col-md-4">
        <label for="filterSpecialty" class="form-label">Especialidad</label>
        <select 
          id="filterSpecialty" 
          class="form-select" 
          [(ngModel)]="filterSpecialty"
          (change)="onFilterChange()"
        >
          <option value="">Todas</option>
          <option *ngFor="let specialty of specialties" [value]="specialty">
            {{ specialty }}
          </option>
        </select>
      </div>
      <div class="col-md-4">
        <label for="filterDoctor" class="form-label">Médico</label>
        <input 
          type="text" 
          id="filterDoctor" 
          class="form-control"
          placeholder="Buscar por nombre del médico"
          [(ngModel)]="filterDoctor"
          (keyup)="onFilterChange()"
        />
      </div>
    </div> -->
  
    <!-- Tabla de resultados -->
    <!-- <table class="table table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Fecha</th>
          <th>Especialidad</th>
          <th>Médico</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let record of filteredRecords; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ record.date }}</td>
          <td>{{ record.specialty }}</td>
          <td>{{ record.doctor }}</td>
          <td>
            <button 
              class="btn btn-sm btn-info"
              (click)="viewDetails(record)"
            >
              Ver Detalles
            </button>
          </td>
        </tr>
        <tr *ngIf="filteredRecords.length === 0">
          <td colspan="5" class="text-center">No se encontraron resultados</td>
        </tr>
      </tbody>
    </table> -->

  